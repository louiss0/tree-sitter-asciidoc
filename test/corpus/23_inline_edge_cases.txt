================================================================================
URL followed by monospace (precedence test)
================================================================================

Visit http://example.com`code`[link text] for details.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (inline_element
      (explicit_link
        url: (auto_link)
        text: (link_text)))
    content: (text_segment)
    content: (text_segment)))

================================================================================
Inline inside role span content
================================================================================

This is [important]#*bold* and _italic_ text# here.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (text_bracket)
    content: (text_segment)
    content: (text_bracket)
    content: (text_hash)
    content: (inline_element
      (strong
        open: (strong_open)
        content: (strong_content)
        close: (strong_close)))
    content: (text_segment)
    content: (inline_element
      (emphasis
        open: (emphasis_open)
        content: (emphasis_content)
        close: (emphasis_close)))
    content: (text_segment)
    content: (text_hash)
    content: (text_segment)))

================================================================================
Crossing styles (should fallback gracefully)
================================================================================

This is *bold _italic* text_ here.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_with_inlines
      (text_segment)
      (text_segment)
      (inline_element
        (strong
          open: (strong_open)
          content: (strong_content)
          close: (strong_close)))
      (text_segment))
    (ERROR)))

================================================================================
Trailing plus without EOL (should not create line_break)
================================================================================

This has a plus+ in the middle.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (text_segment)
    content: (text_segment)
    content: (text_segment)
    content: (text_segment)
    content: (text_segment)))

================================================================================
Escaped delimiters in strong
================================================================================

This is *bold with \* asterisk* text.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (inline_element
      (strong
        open: (strong_open)
        content: (strong_content)
        close: (strong_close)))
    content: (text_segment))
  (unordered_list
    (unordered_list_item
      content: (text_segment))))

================================================================================
Escaped delimiters in emphasis
================================================================================

This is _italic with \_ underscore_ text.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_with_inlines
      (text_segment)
      (text_segment)
      (inline_element
        (emphasis
          open: (emphasis_open)
          content: (emphasis_content)
          close: (emphasis_close)))
      (text_segment))
    (ERROR)))

================================================================================
Escaped delimiters in monospace
================================================================================

This is `code with \` backtick` text.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (inline_element
      (monospace
        open: (monospace_open)
        content: (monospace_content)
        close: (monospace_close)))
    content: (text_segment)))

================================================================================
Escaped delimiters in superscript
================================================================================

This is ^super with \^ caret^ text.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (inline_element
      (superscript
        open: (superscript_open)
        content: (superscript_text)
        close: (superscript_close)))
    content: (text_segment)))

================================================================================
Escaped delimiters in subscript
================================================================================

This is ~sub with \~ tilde~ text.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (inline_element
      (subscript
        open: (subscript_open)
        content: (subscript_text)
        close: (subscript_close)))
    content: (text_segment)))

================================================================================
Escaped delimiters in role span
================================================================================

This is [role]#text with \# hash# here.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (text_bracket)
    content: (text_segment)
    content: (text_bracket)
    content: (text_hash)
    content: (text_segment)
    content: (text_segment)
    content: (text_segment)
    content: (text_hash)
    content: (text_segment)
    content: (text_hash)
    content: (text_segment)))

================================================================================
Complex nesting with multiple styles
================================================================================

This is *bold with `mono and ^super^`* text.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (inline_element
      (strong
        open: (strong_open)
        content: (strong_content)
        close: (strong_close)))
    content: (text_segment)))

================================================================================
Attribute reference inside various constructs
================================================================================

This is *bold {name}* and `code {version}` and ^super{level}^.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (inline_element
      (strong
        open: (strong_open)
        content: (strong_content)
        close: (strong_close)))
    content: (text_segment)
    content: (inline_element
      (monospace
        open: (monospace_open)
        content: (monospace_content)
        close: (monospace_close)))
    content: (text_segment)
    content: (inline_element
      (superscript
        open: (superscript_open)
        content: (superscript_text)
        close: (superscript_close)))
    content: (text_period)))

================================================================================
Line break with proper EOL
================================================================================

First line +
Second line here.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (inline_element
      (line_break))
    content: (text_segment)
    content: (text_segment)
    content: (text_segment)))

================================================================================
Macro precedence over formatting
================================================================================

Use stem:[a^2 + b^2] and kbd:[Ctrl+*Bold*] commands.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (inline_element
      (math_macro
        (stem_inline)))
    content: (text_segment)
    content: (inline_element
      (ui_macro
        (ui_kbd)))
    content: (text_segment)))

================================================================================
Passthrough precedence over everything
================================================================================

This +++*bold* `code` _italic_+++ is literal.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (inline_element
      (passthrough_triple_plus))
    content: (text_segment)
    content: (text_segment)))

================================================================================
Image and link precedence
================================================================================

Use image:logo.png[Logo] and https://example.com[Site] here.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (inline_element
      (image))
    content: (text_segment)
    content: (inline_element
      (explicit_link
        url: (auto_link)
        text: (link_text)))
    content: (text_segment)))

================================================================================
Multiple consecutive inline elements
================================================================================

*Bold*_italic_`code`^super^~sub~{attr}

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (inline_element
      (strong
        open: (strong_open)
        content: (strong_content)
        close: (strong_close)))
    content: (inline_element
      (emphasis
        open: (emphasis_open)
        content: (emphasis_content)
        close: (emphasis_close)))
    content: (inline_element
      (monospace
        open: (monospace_open)
        content: (monospace_content)
        close: (monospace_close)))
    content: (inline_element
      (superscript
        open: (superscript_open)
        content: (superscript_text)
        close: (superscript_close)))
    content: (inline_element
      (subscript
        open: (subscript_open)
        content: (subscript_text)
        close: (subscript_close)))
    content: (inline_element
      (attribute_reference))))

================================================================================
Empty inline constructs (edge case)
================================================================================

This has ** and __ and `` empty markers.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_with_inlines
      (text_segment)
      (text_segment)
      (inline_element
        (strong
          open: (strong_open)
          content: (strong_content)
          close: (MISSING strong_close))))))

================================================================================
Role span with dots in name
================================================================================

This is [role.with.dots]#styled text# here.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (text_segment)
    content: (text_segment)
    content: (text_bracket)
    content: (text_segment)
    content: (text_bracket)
    content: (text_hash)
    content: (text_segment)
    content: (text_segment)
    content: (text_hash)
    content: (text_segment)))
