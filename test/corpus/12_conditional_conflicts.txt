================================================================================
Paragraphs with directive-like words
================================================================================

This paragraph contains ifdef:: and ifndef:: words but
they are in the middle of sentences, not at start of lines.

The word endif:: can also appear here.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (inline_seq_nonempty
      (plain_text)
      (plain_text)
      (plain_text)))
  (description_list
    items: (description_item
      term: (description_term)
      details: (description_content
        (inline_seq_nonempty
          (plain_text)))))
  (description_list
    items: (description_item
      term: (description_term)
      details: (description_content
        (inline_seq_nonempty
          (plain_text)
          (plain_text)))))
  (paragraph
    content: (inline_seq_nonempty
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)))
  (paragraph
    content: (inline_seq_nonempty
      (plain_text)
      (plain_text)))
  (description_list
    items: (description_item
      term: (description_term)
      details: (description_content
        (inline_seq_nonempty
          (plain_text)
          (plain_text)
          (plain_text)
          (plain_text))))))

================================================================================
Malformed conditional directives stay as blocks
================================================================================

ifdef::attr[extra content after bracket]
ifndef::
ifeval::[incomplete

These look like conditionals but are malformed.

--------------------------------------------------------------------------------

(source_file
  (conditional_block
    (ifdef_block
      directive: (ifdef_open)
      content: (paragraph
        content: (inline_seq_nonempty
          (plain_text)
          (plain_colon))
        content: (inline_seq_nonempty
          (plain_text)
          (plain_colon))
        (ERROR
          (role_list)))
      content: (paragraph
        content: (inline_seq_nonempty
          (plain_text)
          (plain_text)
          (plain_text)
          (plain_text)
          (plain_text)
          (plain_text)
          (plain_text))))))

================================================================================
Triple colons are not conditionals
================================================================================

something::: this is not a conditional
another:::word paragraph

--------------------------------------------------------------------------------

(source_file
  (paragraph
    content: (inline_seq_nonempty
      (plain_text)
      (plain_colon)
      (plain_colon)
      (plain_colon)
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)
      (plain_text)))
  (paragraph
    content: (inline_seq_nonempty
      (plain_text)
      (plain_colon)
      (plain_colon)
      (plain_colon)
      (plain_text)
      (plain_text))))

================================================================================
No targets in ifdef should still work
================================================================================

ifdef::[]
Content without specific target
endif::[]

ifndef::[]
Content for ifndef without target
endif::[]

--------------------------------------------------------------------------------

(source_file
  (conditional_block
    (ifdef_block
      directive: (ifdef_open)
      content: (paragraph
        content: (inline_seq_nonempty
          (plain_text)
          (plain_text)
          (plain_text)
          (plain_text)))
      end: (endif_directive)))
  (conditional_block
    (ifndef_block
      directive: (ifndef_open)
      content: (paragraph
        content: (inline_seq_nonempty
          (plain_text)
          (plain_text)
          (plain_text)
          (plain_text)
          (plain_text)))
      end: (endif_directive))))

================================================================================
Conditionals with attributes inside sections
================================================================================

== Main Section

:debugMode: true

ifdef::debugMode[]
Debug information here
endif::[]

=== Subsection

ifndef::productionBuild[]
Development content
endif::[]

--------------------------------------------------------------------------------

(source_file
  (section
    (section_level_2
      marker: (section_marker_2)
      title: (title)
      content: (attribute_entry
        name: (attribute_name
          (plain_colon)
          (plain_text)
          (plain_colon))
        value: (attribute_value))
      content: (conditional_block
        (ifdef_block
          directive: (ifdef_open)
          content: (paragraph
            content: (inline_seq_nonempty
              (plain_text)
              (plain_text)
              (plain_text)))
          end: (endif_directive)))
      content: (section_level_3
        marker: (section_marker_3)
        title: (title)
        content: (conditional_block
          (ifndef_block
            directive: (ifndef_open)
            content: (paragraph
              content: (inline_seq_nonempty
                (plain_text)
                (plain_text)))
            end: (endif_directive)))))))

================================================================================
Mixing attributes and conditionals
================================================================================

== Attribute Conditional Mix
:attrOneValue: value1

ifdef::attrOneValue[]
Content when attrOneValue is set
endif::[]

:attrTwoValue: value2

ifndef::missing[]
Content when missing is not set
endif::[]

--------------------------------------------------------------------------------

(source_file
  (section
    (section_level_2
      marker: (section_marker_2)
      title: (title)
      content: (attribute_entry
        name: (attribute_name
          (plain_colon)
          (plain_text)
          (plain_colon))
        value: (attribute_value))
      content: (conditional_block
        (ifdef_block
          directive: (ifdef_open)
          content: (paragraph
            content: (inline_seq_nonempty
              (plain_text)
              (plain_text)
              (plain_text)
              (plain_text)
              (plain_text)))
          end: (endif_directive)))
      content: (attribute_entry
        name: (attribute_name
          (plain_colon)
          (plain_text)
          (plain_colon))
        value: (attribute_value))
      content: (conditional_block
        (ifndef_block
          directive: (ifndef_open)
          content: (paragraph
            content: (inline_seq_nonempty
              (plain_text)
              (plain_text)
              (plain_text)
              (plain_text)
              (plain_text)
              (plain_text)))
          end: (endif_directive))))))

