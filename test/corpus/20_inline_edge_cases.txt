================================================================================
Unicode word boundaries in formatting
================================================================================

Text with *héllo* and _naïve_ formatting.

Japanese text with *こんにちは* and _世界_ formatting.

Mathematical symbols: ^α² + β²^ and ~H₂O~ with Unicode.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    (text_with_inlines
      (text_segment)
      (strong
        (text_segment))
      (text_segment)
      (emphasis
        (text_segment))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (strong
        (text_segment))
      (text_segment)
      (emphasis
        (text_segment))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (superscript
        (text_segment))
      (text_segment)
      (subscript
        (text_segment))
      (text_segment))))

================================================================================
Delimiter adjacency and escape handling
================================================================================

Adjacent *strong* and _emphasis_ formatting.

Escaped \*not strong\* and \_not emphasis\_.

Mixed: *strong _with emphasis_ inside*.

Monospace with `code *not strong* here` content.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    (text_with_inlines
      (text_segment)
      (strong
        (text_segment))
      (text_segment)
      (emphasis
        (text_segment))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (text_segment)
      (text_segment)
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (strong
        (text_segment)
        (emphasis
          (text_segment))
        (text_segment))))
  (paragraph
    (text_with_inlines
      (text_segment)
      (monospace
        (text_segment))
      (text_segment))))

================================================================================
Complex autolink boundary detection
================================================================================

Visit https://example.com/path?query=value&other=test for more.

Link with punctuation: https://docs.com/api#section.

Multiple URLs: https://first.com, https://second.org! 

Email addresses: contact@example.com.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    (text_with_inlines
      (text_segment)
      (autolink)
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (autolink)
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (autolink)
      (text_segment)
      (autolink)
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (autolink)
      (text_segment))))

================================================================================
Role spans with complex attributes
================================================================================

[.highlight]#Important text# with role.

[.red.bold#special]#Custom styling# with multiple attributes.

[%nowrap]#No wrap content# with options.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    (text_with_inlines
      (role_span
        (role_list
          (role))
        (text_segment))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (role_span
        (role_list
          (role)
          (role)
          (id))
        (text_segment))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (role_span
        (role_list
          (option))
        (text_segment))
      (text_segment))))

================================================================================
Nested formatting edge cases  
================================================================================

*Strong with `code` inside* normal text.

_Emphasis with ^superscript^ and ~subscript~ mixed_.

**Unconstrained **with** double** asterisks.

++Complex `monospace with _emphasis_` not parsed++ content.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    (text_with_inlines
      (strong
        (text_segment)
        (monospace
          (text_segment))
        (text_segment))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (emphasis
        (text_segment)
        (superscript
          (text_segment))
        (text_segment)
        (subscript
          (text_segment))
        (text_segment))))
  (paragraph
    (text_with_inlines
      (unconstrained_strong
        (text_segment))))
  (paragraph
    (text_with_inlines
      (unconstrained_monospace
        (text_segment))
      (text_segment))))

================================================================================
Macro and attribute edge cases
================================================================================

Multiple attributes: kbd:[Ctrl+Alt+Del] and btn:[Submit].

Math notation: stem:[E = mc^2] and asciimath:[sum_(i=1)^n x_i].

Footnote variations: footnote:[Simple note] and footnoteref:ref1[Referenced note].

Complex image: image::path/file.png[Alt text,width=100,height=50].

--------------------------------------------------------------------------------

(source_file
  (paragraph
    (text_with_inlines
      (text_segment)
      (ui_macro
        (macro_name)
        (macro_target)
        (attribute_list))
      (text_segment)
      (ui_macro
        (macro_name)
        (macro_target)
        (attribute_list))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (math_macro
        (macro_name)
        (macro_target)
        (attribute_list))
      (text_segment)
      (math_macro
        (macro_name)
        (macro_target)
        (attribute_list))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (footnote
        (attribute_list))
      (text_segment)
      (footnote
        (footnote_id)
        (attribute_list))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (block_image
        (image_target)
        (attribute_list))
      (text_segment))))

================================================================================
Cross-reference and anchor combinations
================================================================================

See <<introduction>> for basics and <<advanced,Advanced Topics>>.

External references: xref:guide.adoc[User Guide] and xref:api.adoc#methods[API Methods].

Mixed anchors: [[bookmark]] and [[custom,Custom Label]] text.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    (text_with_inlines
      (text_segment)
      (inline_xref
        (xref_id))
      (text_segment)
      (inline_xref
        (xref_id)
        (xref_text))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (xref_macro
        (macro_target)
        (attribute_list))
      (text_segment)
      (xref_macro
        (macro_target)
        (attribute_list))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (inline_anchor
        (anchor_id))
      (text_segment)
      (inline_anchor
        (anchor_id)
        (anchor_text))
      (text_segment))))

================================================================================
Passthrough and raw content edge cases  
================================================================================

Inline passthrough: pass:[<script>alert('test')</script>] content.

Triple plus passthrough: +++<div class="raw">HTML content</div>+++ text.

Nested pass: pass:c[{code-block}] with substitution.

--------------------------------------------------------------------------------

(source_file
  (paragraph
    (text_with_inlines
      (text_segment)
      (pass_macro
        (macro_name)
        (macro_target)
        (attribute_list))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (unconstrained_passthrough
        (text_segment))
      (text_segment)))
  (paragraph
    (text_with_inlines
      (text_segment)
      (pass_macro
        (macro_name)
        (pass_substitution)
        (macro_target)
        (attribute_list))
      (text_segment))))
