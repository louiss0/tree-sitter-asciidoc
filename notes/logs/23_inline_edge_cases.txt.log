  23_inline_edge_cases:
    155. G£ù [31mURL followed by monospace (precedence test)[0m
    156. G£ù [31mInline inside role span content[0m
    157. G£ù [31mCrossing styles (should fallback gracefully)[0m
    158. G£ù [31mTrailing plus without EOL (should not create line_break)[0m
    159. G£ù [31mEscaped delimiters in strong[0m
    160. G£ù [31mEscaped delimiters in emphasis[0m
    161. G£ù [31mEscaped delimiters in monospace[0m
    162. G£ù [31mEscaped delimiters in superscript[0m
    163. G£ù [31mEscaped delimiters in subscript[0m
    164. G£ù [31mEscaped delimiters in role span[0m
    165. G£ù [31mComplex nesting with multiple styles[0m
    166. G£ù [31mAttribute reference inside various constructs[0m
    167. G£ù [31mLine break with proper EOL[0m
    168. G£ù [31mMacro precedence over formatting[0m
    169. G£ù [31mPassthrough precedence over everything[0m
    170. G£ù [31mImage and link precedence[0m
    171. G£ù [31mMultiple consecutive inline elements[0m
    172. G£ù [31mEmpty inline constructs (edge case)[0m
    173. G£ù [31mRole span with dots in name[0m

19 failures:

correct / [32mexpected[0m / [31munexpected[0m

  1. URL followed by monospace (precedence test):

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text)
[0m[31m          (inline_element
[0m[31m            (monospace
[0m[31m              open: (monospace_open)
[0m[31m              content: (monospace_content)
[0m[31m              close: (monospace_close)))
[0m[31m          (ERROR)
[0m[31m          (plain_text)
[0m[31m          (formatting_fallback)
[0m[31m          (plain_text))))[0m
[32m        content: (inline_element
[0m[32m          (explicit_link
[0m[32m            url: (auto_link)
[0m[32m            text: (link_text)))[0m


  2. Inline inside role span content:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text
[0m[31m            (ERROR))
[0m[31m          (formatting_fallback)
[0m[31m          (plain_text)
[0m[31m          (inline_element
[0m[31m            (strong
[0m[31m              open: (strong_open)
[0m[31m              content: (strong_content)
[0m[31m              close: (strong_close)))
[0m[31m          (plain_text))))[0m
[32m        content: (inline_element
[0m[32m          (strong
[0m[32m            open: (strong_open)
[0m[32m            content: (strong_content)
[0m[32m            close: (strong_close)))
[0m[32m        content: (inline_element
[0m[32m          (emphasis
[0m[32m            open: (emphasis_open)
[0m[32m            content: (emphasis_content)
[0m[32m            close: (emphasis_close)))[0m


  3. Crossing styles (should fallback gracefully):

[31m    (source_file))[0m
[32m    (source_file
[0m[32m      (paragraph
[0m[32m        (inline_element
[0m[32m          (strong
[0m[32m            open: (strong_open)
[0m[32m            content: (strong_content)
[0m[32m            close: (strong_close)))
[0m[32m        (ERROR)))[0m


  4. Trailing plus without EOL (should not create line_break):

    (source_file
[31m      (paragraph
[0m[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text))))[0m
[32m      (paragraph)[0m


  5. Escaped delimiters in strong:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (inline_element
[0m[31m            (strong
[0m[31m              open: (strong_open)
[0m[31m              content: (strong_content)
[0m[31m              close: (strong_close)))
[0m[31m          (plain_text)))
[0m[31m      (unordered_list
[0m[31m        (unordered_list_item
[0m[31m          content: (inline_seq_nonempty
[0m[31m            (plain_text)))))[0m
[32m        content: (inline_element
[0m[32m          (strong
[0m[32m            open: (strong_open)
[0m[32m            content: (strong_content)
[0m[32m            close: (strong_close)))
[0m[32m        (unordered_list
[0m[32m          (unordered_list_item))[0m


  6. Escaped delimiters in emphasis:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text
[0m[31m            (ERROR)))))[0m
[32m        (inline_element
[0m[32m          (emphasis
[0m[32m            open: (emphasis_open)
[0m[32m            content: (emphasis_content)
[0m[32m            close: (emphasis_close)))
[0m[32m        (ERROR)))[0m


  7. Escaped delimiters in monospace:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (inline_element
[0m[31m            (monospace
[0m[31m              open: (monospace_open)
[0m[31m              content: (monospace_content)
[0m[31m              close: (monospace_close)))
[0m[31m          (plain_text))))[0m
[32m        content: (inline_element
[0m[32m          (monospace
[0m[32m            open: (monospace_open)
[0m[32m            content: (monospace_content)
[0m[32m            close: (monospace_close)))[0m


  8. Escaped delimiters in superscript:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text
[0m[31m            (ERROR)))))[0m
[32m        content: (inline_element
[0m[32m          (superscript
[0m[32m            open: (superscript_open)
[0m[32m            content: (superscript_text)
[0m[32m            close: (superscript_close)))[0m


  9. Escaped delimiters in subscript:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (inline_element
[0m[31m            (subscript
[0m[31m              open: (subscript_open)
[0m[31m              content: (subscript_text)
[0m[31m              close: (subscript_close)))
[0m[31m          (plain_text))))[0m
[32m        content: (inline_element
[0m[32m          (subscript
[0m[32m            open: (subscript_open)
[0m[32m            content: (subscript_text)
[0m[32m            close: (subscript_close)))[0m


  10. Escaped delimiters in role span:

    (source_file
[31m      (paragraph
[0m[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text
[0m[31m            (ERROR))
[0m[31m          (formatting_fallback)
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (escaped_char)
[0m[31m          (plain_text))))[0m
[32m      (paragraph)[0m


  11. Complex nesting with multiple styles:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (inline_element
[0m[31m            (strong
[0m[31m              open: (strong_open)
[0m[31m              content: (strong_content)
[0m[31m              close: (strong_close)))
[0m[31m          (plain_text))))[0m
[32m        content: (inline_element
[0m[32m          (strong
[0m[32m            open: (strong_open)
[0m[32m            content: (strong_content)
[0m[32m            close: (strong_close)))[0m


  12. Attribute reference inside various constructs:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (inline_element
[0m[31m            (strong
[0m[31m              open: (strong_open)
[0m[31m              content: (strong_content)
[0m[31m              close: (strong_close)))
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (inline_element
[0m[31m            (monospace
[0m[31m              open: (monospace_open)
[0m[31m              content: (monospace_content)
[0m[31m              close: (monospace_close)))
[0m[31m          (plain_text))))[0m
[32m        content: (inline_element
[0m[32m          (strong
[0m[32m            open: (strong_open)
[0m[32m            content: (strong_content)
[0m[32m            close: (strong_close)))
[0m[32m        content: (inline_element
[0m[32m          (monospace
[0m[32m            open: (monospace_open)
[0m[32m            content: (monospace_content)
[0m[32m            close: (monospace_close)))
[0m[32m        content: (inline_element
[0m[32m          (superscript
[0m[32m            open: (superscript_open)
[0m[32m            content: (superscript_text)
[0m[32m            close: (superscript_close)))[0m


  13. Line break with proper EOL:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text)
[0m[31m          (inline_element
[0m[31m            (hard_break))
[0m[31m          (plain_text))))[0m
[32m        content: (inline_element
[0m[32m          (hard_break))[0m


  14. Macro precedence over formatting:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (plain_text)
[0m[31m          (formatting_fallback)
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (plain_text)
[0m[31m          (inline_element
[0m[31m            (strong
[0m[31m              open: (strong_open)
[0m[31m              content: (strong_content)
[0m[31m              close: (strong_close)))
[0m[31m          (formatting_fallback)
[0m[31m          (plain_text))))[0m
[32m        content: (inline_element
[0m[32m          (math_macro
[0m[32m            (stem_inline)))
[0m[32m        content: (inline_element
[0m[32m          (ui_macro
[0m[32m            (ui_kbd)))[0m


  15. Passthrough precedence over everything:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text)
[0m[31m          (inline_element
[0m[31m            (strong
[0m[31m              open: (strong_open)
[0m[31m              content: (strong_content)
[0m[31m              close: (strong_close)))
[0m[31m          (inline_element
[0m[31m            (monospace
[0m[31m              open: (monospace_open)
[0m[31m              content: (monospace_content)
[0m[31m              close: (monospace_close)))
[0m[31m          (plain_text))))[0m
[32m        content: (inline_element
[0m[32m          (passthrough_triple_plus))[0m


  16. Image and link precedence:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (plain_text)
[0m[31m          (formatting_fallback)
[0m[31m          (plain_text)
[0m[31m          (ERROR)
[0m[31m          (plain_text)
[0m[31m          (formatting_fallback)
[0m[31m          (plain_text))))[0m
[32m        content: (inline_element
[0m[32m          (image))
[0m[32m        content: (inline_element
[0m[32m          (explicit_link
[0m[32m            url: (auto_link)
[0m[32m            text: (link_text)))[0m


  17. Multiple consecutive inline elements:

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (inline_element
[0m[31m            (strong
[0m[31m              open: (strong_open)
[0m[31m              content: (strong_content)
[0m[31m              close: (strong_close)))
[0m[31m          (plain_text)
[0m[31m          (inline_element
[0m[31m            (monospace
[0m[31m              open: (monospace_open)
[0m[31m              content: (monospace_content)
[0m[31m              close: (monospace_close)))
[0m[31m          (plain_text)
[0m[31m          (inline_element
[0m[31m            (subscript
[0m[31m              open: (subscript_open)
[0m[31m              content: (subscript_text)
[0m[31m              close: (subscript_close)))
[0m[31m          (inline_element
[0m[31m            (attribute_reference)))))[0m
[32m        content: (inline_element
[0m[32m          (strong
[0m[32m            open: (strong_open)
[0m[32m            content: (strong_content)
[0m[32m            close: (strong_close)))
[0m[32m        content: (inline_element
[0m[32m          (emphasis
[0m[32m            open: (emphasis_open)
[0m[32m            content: (emphasis_content)
[0m[32m            close: (emphasis_close)))
[0m[32m        content: (inline_element
[0m[32m          (monospace
[0m[32m            open: (monospace_open)
[0m[32m            content: (monospace_content)
[0m[32m            close: (monospace_close)))
[0m[32m        content: (inline_element
[0m[32m          (superscript
[0m[32m            open: (superscript_open)
[0m[32m            content: (superscript_text)
[0m[32m            close: (superscript_close)))
[0m[32m        content: (inline_element
[0m[32m          (subscript
[0m[32m            open: (subscript_open)
[0m[32m            content: (subscript_text)
[0m[32m            close: (subscript_close)))
[0m[32m        content: (inline_element
[0m[32m          (attribute_reference))))[0m


  18. Empty inline constructs (edge case):

    (source_file
      (paragraph
[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text))
[0m[31m        (ERROR
[0m[31m          (strong_open))))[0m
[32m        (inline_element
[0m[32m          (strong
[0m[32m            open: (strong_open)
[0m[32m            content: (strong_content)
[0m[32m            close: (MISSING strong_close))))))[0m


  19. Role span with dots in name:

    (source_file
[31m      (paragraph
[0m[31m        content: (inline_seq_nonempty
[0m[31m          (plain_text
[0m[31m            (ERROR))
[0m[31m          (formatting_fallback)
[0m[31m          (plain_text))))[0m
[32m      (paragraph)[0m

